Chaosnet for UNIX

What is this?
-------------

Chaosnet was an early (pre-ethernet) computer network developed at
MIT.  It was an early "common bus" packet network, i.e. all the
machines shared a single "wire" and sent packets back and forth.

Chaosnet was used to connect many machines at MIT, most notably the
PDP-10's running ITS and the Lisp Machines.

This is a port of some really really old BSD kernel code to modern day
GNU/Linux.

The CADR simulator (usim) can be a client and uses this code to talk
to the FILE server ("FILE" is the file serving protocol used on
Chaosnet).


Quickstart
----------

To start the "server", load the Chaosnet kernel driver, initialize it
and then start "chserver".

Some client side programs used to test functionality:

	chinit - init protocol stack
	cheaddr - set ethernet address
	cftp HOST - simple 'ftp like' file transfer program
	chtime HOST - gets time from HOST
	hostat HOST - gets packet statistics from HOST


Running
-------

The code is implemented via a loadable module and a number of userland
programs.

Steps:

  modify /usr/src/linux/kernel/ksyms.c
  rebuild kernel
  
  mknod /dev/chaos c 80 1
  mknod /dev/churfc c 80 2
  
  make
  
  /sbin/insmod chaosnet.o
  
Create /etc/hosttab:

  cat - >/etc/hosttab <<EOF
  # simple chaosnet hosttab, one server
  NET CHAOS,1
  HOST local,CHAOS 1,SERVER
  HOST LISPM1,CHAOS 402,SERVER
  HOST LISPM2,CHAOS 405,SERVER
  EOF
  
  cmd/chinit 257 local  (note: decimal)  <-- I think this could be 1
  cmd/cheaddr enp0s25 401  (note: octal)
  cmd/chserver &
  

Kernel driver
-------------

Psuedo device connected to "/dev/chaos" fields ioctl's.
	CHIOCOPEN returns a new fd in user space
	CHIOCACCEPT accepts a new connection
	CHIOCREJECT rejects a new connection

Psuedo device connected to "/dev/churfc" allows reads
 	CHIOCILADDR to set choas address

Driver needs to do open/close/ioctl/read/write and be able to create
new fd's in user space.


What programs are here?
-----------------------

Client programs:

  ---!!!

Server programs:

  ---!!!

Other:

  ---!!!

Recent Changes
--------------

????-??-?? - TBD

2006-07-11 - Fixed FILE server to force everything to lower case
               (still a bug in close - don't open multiple files).
             Some MacOS fixes, doesnt' work yet in big endian
             Works well enough to support SI:RECOMPILE-WORLD.

2005-12-13 - Original release.

2001-05-06 - ---!!! linux 2.2.18 // linux-2.4.2

2000-07-03 - ---!!! linux-?.?.??
    
1997-05-21 - ---!!! linux-2.0.27

1982-08-12 - ---!!!